<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Quantum Cipher | Stealth Research Lab</title>
    <meta name="description" content="AI Quantum Cipher - A cutting-edge research lab in stealth mode focusing on AI quantum architecture, XR, MR, EEG, and spatial computing.">
    <style>
        /* [Previous CSS remains unchanged until carousel section] */
        
        .carousel-container {
            width: 80%;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
        }
        .carousel {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-item {
            min-width: 100%;
            box-sizing: border-box;
            padding: 10px;
        }
        .rune-game {
            text-align: center;
        }
        .rune-display {
            font-size: 80px;
            margin: 20px 0;
            color: #0ff;
            text-shadow: 0 0 10px #0ff;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        .rune-display.active {
            opacity: 1;
        }
        .viking-message {
            color: #33ff99;
            font-size: 18px;
            margin-top: 15px;
            text-shadow: 0 0 5px #33ff99;
        }
        .quantum-canvas {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            border: 1px solid #fff;
        }
        /* [Rest of previous CSS remains unchanged] */
    </style>
</head>
<body>
    <!-- [Previous HTML remains unchanged until Qiskit Carousel Section] -->

    <section>
        <h2>IBM Quantum Computer Simulation with<br>Clifford Circuits, Superposition, and Entanglement</h2>
        <div class="carousel-container">
            <div class="carousel">
                <!-- Slide 1: Qubit Visualization (unchanged) -->
                <div class="carousel-item">
                    <div id="qubitCanvas"></div>
                    <div class="controls">
                        <select id="qubitType">
                            <option value="random">Random</option>
                            <option value="zero">|0⟩</option>
                            <option value="one">|1⟩</option>
                        </select>
                        <button onclick="updateQubitState()">Update Qubit State</button>
                        <button onclick="setSuperposition()">Superposition</button>
                        <button onclick="setEntanglement()">Entanglement</button>
                        <button onclick="clearQubit()">Clear</button>
                    </div>
                    <div id="circuitDiagram"></div>
                </div>
                <!-- Slide 2: Quantum Rune Generator -->
                <div class="carousel-item">
                    <div class="rune-game">
                        <h3>Invoke the Quantum Oracle</h3>
                        <div id="runeCanvas" class="quantum-canvas"></div>
                        <button onclick="generateQuantumRune()">Cast Quantum Rune</button>
                        <div id="runeDisplay" class="rune-display"></div>
                        <div id="vikingMessage" class="viking-message"></div>
                    </div>
                </div>
                <!-- Slide 3: Guess Game (unchanged) -->
                <div class="carousel-item">
                    <div class="game-container">
                        <h3>Guess the Qubit State!</h3>
                        <p>Look at the Bloch sphere on Slide 1, then guess the qubit state.</p>
                        <div class="controls">
                            <button onclick="guessState('zero')">|0⟩</button>
                            <button onclick="guessState('one')">|1⟩</button>
                            <button onclick="guessState('random')">Random</button>
                            <button onclick="newGame()">New Game</button>
                        </div>
                        <div id="gameFeedback" class="game-feedback"></div>
                    </div>
                </div>
            </div>
            <button class="carousel-btn left" onclick="moveCarousel(-1)"><</button>
            <button class="carousel-btn right" onclick="moveCarousel(1)">></button>
        </div>
    </section>

    <!-- [Rest of previous HTML remains unchanged] -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script>
        // [Previous JavaScript remains unchanged until new game logic]

        // Quantum Rune Generator
        let runeScene, runeCamera, runeRenderer, runeSphere;
        const runes = [
            "ᚠ", "ᚢ", "ᚦ", "ᚨ", "ᚱ", "ᚲ", "ᚷ", "ᚹ", "ᚺ", "ᚾ", 
            "ᛁ", "ᛃ", "ᛇ", "ᛈ", "ᛉ", "ᛋ", "ᛏ", "ᛒ", "ᛖ", "ᛗ", 
            "ᛚ", "ᛜ", "ᛞ", "ᛟ", "" // Blank rune as last element
        ];
        const vikingPowers = [
            "Wealth flows to you like rivers to the sea",
            "Strength surges through your warrior spirit",
            "Protection shields you from all harm",
            "Wisdom guides your path through the storm",
            "The void speaks: destiny is yours to shape" // Blank rune message
        ];

        function initRuneSphere() {
            runeScene = new THREE.Scene();
            runeCamera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
            runeRenderer = new THREE.WebGLRenderer({ antialias: true });
            runeRenderer.setSize(200, 200);
            document.getElementById('runeCanvas').appendChild(runeRenderer.domElement);

            runeSphere = new THREE.Mesh(
                new THREE.SphereGeometry(1, 32, 32),
                new THREE.MeshBasicMaterial({ color: 0x00ffff, wireframe: true })
            );
            runeScene.add(runeSphere);
            runeCamera.position.z = 3;
            animateRuneSphere();
        }

        function animateRuneSphere() {
            requestAnimationFrame(animateRuneSphere);
            runeSphere.rotation.x += 0.02;
            runeSphere.rotation.y += 0.02;
            runeRenderer.render(runeScene, runeCamera);
        }

        function generateQuantumRune() {
            // Simulate quantum circuit with 4 qubits
            const qubitCount = 4;
            let quantumState = 0;

            // Apply quantum gates for randomness
            for (let i = 0; i < qubitCount; i++) {
                // Hadamard gate for superposition
                const hRandom = Math.random() > 0.5 ? 1 : 0;
                // CNOT gate simulation for entanglement
                const cnotRandom = Math.random() > 0.5 ? 1 : 0;
                // Combine using Clifford gates principles
                quantumState = (quantumState << 1) | (hRandom ^ cnotRandom);
            }

            // Map quantum state to rune index
            const runeIndex = quantumState % runes.length;
            const rune = runes[runeIndex];
            const message = vikingPowers[Math.min(runeIndex, vikingPowers.length - 1)];

            // Display with mystical effect
            const runeDisplay = document.getElementById('runeDisplay');
            runeDisplay.textContent = rune || "✨"; // Blank rune gets special symbol
            runeDisplay.classList.remove('active');
            void runeDisplay.offsetWidth; // Trigger reflow
            runeDisplay.classList.add('active');

            document.getElementById('vikingMessage').textContent = message;

            // Spin the Bloch sphere faster during rune generation
            runeSphere.rotation.x += 0.1;
            runeSphere.rotation.y += 0.1;
        }

        // [Previous JavaScript initialization remains unchanged]
        initQubit();
        initRuneSphere(); // Initialize the new rune sphere
        newGame();

        // [Rest of previous JavaScript remains unchanged]
        document.getElementById('email-link').addEventListener('click', function() {
            let email = "info@aiquantumcypher.com";
            window.location.href = "mailto:" + email;
        });
    </script>
</body>
</html>
